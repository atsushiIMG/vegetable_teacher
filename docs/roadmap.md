# やさいせんせい 開発ロードマップ

## 🎯 プロジェクト進捗

### ✅ 完了済み（2025年7月）

#### インフラ・基盤構築
- [x] Supabaseクラウド開発環境構築
- [x] データベース設計・テーブル作成（5テーブル）
- [x] 12種類の野菜マスタデータ投入（種・苗別スケジュール対応）
- [x] Row Level Security (RLS) 設定
- [x] 認証設定（Android用、カスタムURIスキーム）
- [x] ストレージ設定（写真用、50MB制限）
- [x] 開発用スクリプト作成
- [x] プロジェクトドキュメント整備

#### 認証機能
- [x] ログイン画面（Google認証）
- [x] Supabase Auth完全統合
- [x] 認証フロー・リダイレクト処理

#### 野菜管理機能
- [x] 野菜一覧画面（3列グリッド、栽培中野菜表示）
- [x] 野菜詳細画面（次の作業予定・タスクタイムライン）
- [x] 野菜登録画面（12種類選択・種苗選択・栽培場所）
- [x] 種と苗の農業的に正確な別スケジュール対応
- [x] VegetableProvider完全実装（CRUD操作）
- [x] 堅牢なエラーハンドリング・ユーザーフレンドリーUI

#### コード品質・リファクタリング
- [x] Switch文のマップ参照リファクタリング
- [x] NULL安全性・型検証の追加
- [x] firstWhereエラーハンドリング強化
- [x] IDパラメータ検証によるクラッシュ防止

## 🚧 開発予定（フェーズ1 MVP）

### 1. 残りのUI画面実装（優先度：高）
**目標期間：1-2週間**

#### AI相談画面
- [x] チャット画面（メッセージ送受信）
- [x] 会話履歴表示
- [x] 野菜別相談履歴管理

#### 設定画面
- [x] 通知設定画面（時間帯・頻度調整）
- [x] アカウント管理画面

### 2. Python AI相談API実装（優先度：高）
**目標期間：1週間**

- [x] FastAPIサーバー構築
- [x] OpenAI GPT-4o-mini連携
- [x] 野菜特化プロンプト設計
- [x] 会話履歴管理機能
- [x] エラーハンドリング

### 3. プッシュ通知機能（優先度：高）
**目標期間：1-2週間**

#### Supabase Functions
- [x] 通知スケジュール管理
- [x] 作業タイミング計算ロジック
- [x] 水やり通知ロジック

#### Supabase Realtime + Local Notifications
- [x] Supabaseリアルタイム通知設定
- [x] ローカル通知表示機能
- [x] 通知権限管理

### 4. フィードバック機能（優先度：中）
**目標期間：1週間**

- [ ] 通知後フィードバック収集画面
- [ ] フィードバックデータ保存
- [ ] 次回通知タイミング調整ロジック
- [ ] スケジュール個別調整機能（schedule_adjustments活用）

### 5. テスト・品質向上（優先度：中）
**目標期間：1週間**

- [ ] 単体テスト実装
- [ ] 統合テスト実装
- [ ] UIテスト
- [ ] パフォーマンス最適化

## 🔮 フェーズ2（拡張機能）

### 撮影・記録機能
- [ ] 撮影モード機能
- [ ] 写真タイムラプス機能
- [ ] パラパラ漫画機能

### 高度な機能
- [ ] 収穫記録・アーカイブ機能
- [ ] カレンダー画面
- [ ] 天気API連携
- [ ] コミュニティ機能

## 📅 マイルストーン

| マイルストーン | 予定日 | 内容 |
|--------------|--------|------|
| MVP Alpha | 2025年8月中旬 | 基本機能完成 |
| MVP Beta | 2025年8月下旬 | テスト・改善完了 |
| MVP リリース | 2025年9月上旬 | Android ストア公開 |
| フェーズ2開始 | 2025年9月中旬 | 拡張機能開発開始 |

## 🎯 MVP完成の定義

以下の機能がすべて動作すること：
- [x] ユーザー登録・ログイン
- [x] 野菜の登録・管理（種苗別スケジュール対応）
- [ ] 栽培スケジュールに基づく通知
- [ ] AIへの相談機能
- [ ] 通知フィードバック機能

## 🚨 リスク・課題

### 技術的リスク
- Flutter開発経験の習得
- AI回答品質の確保
- 通知タイミングの精度

### スケジュールリスク  
- 個人開発のため時間確保が課題
- 予期しない技術的問題による遅延

### 対策
- 小さな機能から順次実装
- 定期的なプロトタイプ検証
- 最小限の機能でMVPリリース

## 📊 進捗管理

**現在の進捗**: 
- バックエンド基盤 100% 完了
- 認証機能 100% 完了  
- 野菜管理機能 100% 完了
- AI相談機能 100% 完了
- コード品質強化 100% 完了

**次のタスク**: 設定画面の実装（通知設定・アカウント管理）
**全体進捗**: 約65% 完了（基盤・認証・野菜管理・AI相談フェーズ完了）

### 技術的成果
- 種と苗の農業的に正確な別スケジュール実装
- 堅牢なエラーハンドリングとnull安全性
- ユーザーフレンドリーなUI/UX
- Supabase完全統合によるリアルタイムデータ管理